/*! HTML5 constraintValidationAPI - v1.0.1 - 2013-08-17
* https://github.com/bboyle/html5-constraint-validation-API
* Copyright (c) 2013 Ben Boyle; Licensed MIT */
"undefined"!==jQuery&&function(t){"use strict";var i=/^[A-Za-z0-9!#$%&'*+\-\/=\?\^_`\{\|\}~\.]+@[A-Za-z0-9\-]+(\.[A-Za-z0-9\-]+)*$/,e="input, select, textarea",a=t("<input>"),n="object"!=typeof a[0].validity,s=function(t,i,e,a,n){return"string"==typeof a&&(e=!!a),{customError:e,typeMismatch:!!t,patternMismatch:!!n,valueMissing:!!i,valid:!(i||e||t||n)}},r=function(e){var a,n,r=t(this),o=!!r.attr("required"),l="email"===this.getAttribute("type")&&!!this.value&&!i.test(this.value);return o&&(o=/^select$/i.test(this.nodeName)?0===this.selectedIndex&&""===this.options[0].value:"radio"===this.type?0===t(this.form.elements[this.name]).filter(":checked").length:"checkbox"===this.type?!this.checked:!this.value),this.getAttribute("pattern")&&(this.value.length>0?(n=RegExp("^(?:"+this.getAttribute("pattern")+")$"),a=!n.test(this.value)):a=!1),this.validity=s(l,o,this.validity.customError||!1,e,a),this.validity.valid?this.validationMessage="":this.validity.customError?"string"==typeof e&&(this.validationMessage=e):this.validationMessage=this.validity.valueMissing?"Please answer this question":this.validity.typeMismatch?"Please type an email address":this.validity.patternMismatch?"Please use the format shown":"Please answer the question correctly",this.disabled||this.validity.valid},o=function(i){var e=i.target;r.call(e),"radio"===e.type&&t(e.form.elements[this.name]).each(function(){this.validity=e.validity,this.validationMessage=e.validationMessage})},l=function(i){var a=t(this),s=!!a.attr("novalidate"),o=!1;return n&&a.find(e).each(function(){o=!r.call(this),s||o&&t(this).triggerHandler("invalid")}),!s&&a.find(e).filter(function(){return!(this.disabled||this.validity.valid)}).length>0?(i.stopImmediatePropagation(),i.preventDefault(),!1):void 0},h=function(){var i=t(e);n&&(i.filter(function(){return"object"!=typeof this.validity}).each(function(){this.validity=s(!1,!1,!1,"",!1),this.validationMessage=""}),i.unbind("change.constraintValidationAPI").bind("change.constraintValidationAPI",o)),"string"!=typeof a[0].validationMessage&&i.filter(function(){return"string"!=typeof this.validationMessage}).each(function(){this.validationMessage=""}),"function"!=typeof a[0].checkValidity&&i.filter(function(){return"function"!=typeof this.checkValidity}).each(function(){var i=this;this.checkValidity=function(){var e=r.call(i);return e||this.form.hasAttribute("novalidate")||t(i).triggerHandler("invalid"),e}}),"function"!=typeof a[0].setCustomValidity&&i.filter(function(){return"function"!=typeof this.setCustomValidity}).each(function(){var t=this;this.setCustomValidity=function(i){r.call(t,i)}}),t("form").unbind("submit.constraintValidationAPI").bind("submit.constraintValidationAPI",l)};h(),t(h),window.initConstraintValidationAPI=h}(jQuery);