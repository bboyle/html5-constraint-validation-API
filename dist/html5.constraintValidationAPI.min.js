/*! HTML5 constraintValidationAPI - v1.0.0 - 2013-03-29
* https://github.com/bboyle/html5-constraint-validation-API
* Copyright (c) 2013 Ben Boyle; Licensed MIT */
"undefined"!==jQuery&&function(t){"use strict";var i=/^[A-Za-z0-9!#$%&'*+\-\/=\?\^_`\{\|\}~\.]+@[A-Za-z0-9\-]+(\.[A-Za-z0-9\-]+)*$/,e="input, select, textarea",a=t("<input>"),n="object"!=typeof a[0].validity,s=function(){var i=t.Event("invalid");return i.stopImmediatePropagation(),i},o=function(t,i,e,a,n){return"string"==typeof a&&(e=!!a),{customError:e,typeMismatch:!!t,patternMismatch:!!n,valueMissing:!!i,valid:!(i||e||t||n)}},r=function(e){var a,n,s=t(this),r=!!s.attr("required"),l="email"===this.getAttribute("type")&&!!this.value&&!i.test(this.value);return r&&(r=/^select$/i.test(this.nodeName)?0===this.selectedIndex&&""===this.options[0].value:"radio"===this.type?0===t(this.form.elements[this.name]).filter(":checked").length:!this.value),this.getAttribute("pattern")&&(this.value.length>0?(n=RegExp("^(?:"+this.getAttribute("pattern")+")$"),a=!n.test(this.value)):a=!1),this.validity=o(l,r,this.validity.customError||!1,e,a),this.validity.valid?this.validationMessage="":this.validity.customError?"string"==typeof e&&(this.validationMessage=e):this.validationMessage=this.validity.valueMissing?"Please answer this question":this.validity.typeMismatch?"Please type an email address":this.validity.patternMismatch?"Please use the format shown":"Please answer the question correctly",this.disabled||this.validity.valid},l=function(i){var e=i.target;r.call(e),"radio"===e.type&&t(e.form.elements[this.name]).each(function(){this.validity=e.validity,this.validationMessage=e.validationMessage})},h=function(i){var a=t(this),o=!!a.attr("novalidate"),l=!1;return n&&a.find(e).each(function(){l=!r.call(this),o||l&&t(this).trigger(s())}),!o&&a.find(e).filter(function(){return!(this.disabled||this.validity.valid)}).length>0?(i.stopImmediatePropagation(),i.preventDefault(),!1):void 0},d=function(){var i=t(e);"object"!=typeof a[0].validity&&(i.filter(function(){return"object"!=typeof this.validity}).each(function(){this.validity=o(!1,!1,!1,"",!1),this.validationMessage=""}),i.unbind("change.constraintValidationAPI").bind("change.constraintValidationAPI",l)),"string"!=typeof a[0].validationMessage&&i.filter(function(){return"string"!=typeof this.validationMessage}).each(function(){this.validationMessage=""}),"function"!=typeof a[0].checkValidity&&i.filter(function(){return"function"!=typeof this.checkValidity}).each(function(){var i=this,e=t(this);this.checkValidity=function(){var t=r.call(i);return t||e.closest("form").attr("novalidate")||e.trigger(s()),t}}),"function"!=typeof a[0].setCustomValidity&&i.filter(function(){return"function"!=typeof this.setCustomValidity}).each(function(){var t=this;this.setCustomValidity=function(i){r.call(t,i)}}),t("form").unbind("submit.constraintValidationAPI").bind("submit.constraintValidationAPI",h)};d(),t(d),window.initConstraintValidationAPI=d}(jQuery);