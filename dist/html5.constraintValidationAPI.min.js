/*! HTML5 constraintValidationAPI - v1.0.7 - 2015-02-19
* https://github.com/bboyle/html5-constraint-validation-API
* Copyright (c) 2015 Ben Boyle; Licensed MIT */
"undefined"!==jQuery&&!function(a){"use strict";var b,c=/^[A-Za-z0-9!#$%&'*+\-\/=\?\^_`\{\|\}~\.]+@[A-Za-z0-9\-]+(\.[A-Za-z0-9\-]+)*$/,d="input, select, textarea",e=a("<input>").get(0),f="object"!=typeof e.validity,g=!f&&a('<input type="radio" required checked>').get(0).validity.valueMissing===!0,h=function(){return!(this.disabled||this.validity.valid)},i=function(b){return a(b.form.elements[b.name]).filter('[name="'+b.name+'"]')},j=function(a,b,c,d,e){return"string"==typeof d&&(c=!!d),{customError:c,typeMismatch:!!a,patternMismatch:!!e,valueMissing:!!b,valid:!(b||c||a||e)}},k=function(b){var d,e,f,g,h=a(this),k=!!h.attr("required"),l="radio"===this.type&&i(this),m="email"===this.getAttribute("type")&&!!this.value&&!c.test(this.value);return l&&!k&&(k=l.filter("[required]").length>0),k&&(d=/^select$/i.test(this.nodeName)?0===this.selectedIndex&&""===this.options[0].value:l?0===l.filter(":checked").length:"checkbox"===this.type?!this.checked:!this.value),this.getAttribute("pattern")&&(this.value.length>0?(f=new RegExp("^(?:"+this.getAttribute("pattern")+")$"),e=!f.test(this.value)):e=!1),g=j(m,d,this.validity.customError||!1,b,e),l?i(this).each(function(){this.validity=g}):this.validity=g,this.validity.valid?this.validationMessage="":this.validity.customError?"string"==typeof b&&(this.validationMessage=b):this.validationMessage=this.validity.valueMissing?"Please answer this question":this.validity.typeMismatch?"Please type an email address":this.validity.patternMismatch?"Please use the format shown":"Please answer the question correctly",this.disabled||this.validity.valid},l=function(a){var b=a.target;k.call(b),"radio"===b.type&&i(b).each(function(){this.validity=b.validity,this.validationMessage=b.validationMessage})},m=function(c){var e=a(this),i=!!e.attr("novalidate"),j=!1;return f&&e.find(d).each(function(){j=!k.call(this),i||j&&a(this).triggerHandler("invalid")}),g&&b(this),!i&&e.find(d).filter(h).length>0?(c.stopImmediatePropagation(),c.preventDefault(),!1):void 0},n=function(){var c=a(d);f&&(c.filter(function(){return"object"!=typeof this.validity}).each(function(){this.validity=j(!1,!1,!1,"",!1),this.validationMessage=""}),c.unbind("change.constraintValidationAPI").bind("change.constraintValidationAPI",l)),"string"!=typeof e.validationMessage&&c.filter(function(){return"string"!=typeof this.validationMessage}).each(function(){this.validationMessage=""}),"function"!=typeof e.checkValidity&&c.filter(function(){return"function"!=typeof this.checkValidity}).each(function(){var b=this;this.checkValidity=function(){var c=k.call(b);return c||this.form.getAttribute("novalidate")||a(b).triggerHandler("invalid"),c}}),"function"!=typeof e.setCustomValidity&&c.filter(function(){return"function"!=typeof this.setCustomValidity}).each(function(){var a=this;this.setCustomValidity=function(b){k.call(a,b)}}),g&&(b=function(b){var c,d,e={};a("input",b).filter(":radio").filter('[required],[aria-required="true"]').each(function(){"undefined"==typeof e[this.name]&&(e[this.name]=!0,c=i(this),d=0===c.filter(":checked").length,d?c.attr("required","required"):c.attr("aria-required",!0).removeAttr("required"))})},a("form").each(b),f||c.filter(":radio").unbind("change.constraintValidationAPI").bind("change.constraintValidationAPI",function(){b(this.form)})),a("form").unbind("submit.constraintValidationAPI").bind("submit.constraintValidationAPI",m)};n(),a(n),window.initConstraintValidationAPI=n}(jQuery);