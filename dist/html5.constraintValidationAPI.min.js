/*! HTML5 constraintValidationAPI - v1.0.5 - 2015-02-09
* https://github.com/bboyle/html5-constraint-validation-API
* Copyright (c) 2015 Ben Boyle; Licensed MIT */
"undefined"!==jQuery&&!function(a){"use strict";var b,c=/^[A-Za-z0-9!#$%&'*+\-\/=\?\^_`\{\|\}~\.]+@[A-Za-z0-9\-]+(\.[A-Za-z0-9\-]+)*$/,d="input, select, textarea",e=a("<input>").get(0),f=a('<input type="radio" required checked>').get(0).validity.valueMissing,g="object"!=typeof e.validity,h=function(){return!(this.disabled||this.validity.valid)},i=function(a,b,c,d,e){return"string"==typeof d&&(c=!!d),{customError:c,typeMismatch:!!a,patternMismatch:!!e,valueMissing:!!b,valid:!(b||c||a||e)}},j=function(b){var d,e,f=a(this),g=!!f.attr("required"),h="email"===this.getAttribute("type")&&!!this.value&&!c.test(this.value);return g&&(g=/^select$/i.test(this.nodeName)?0===this.selectedIndex&&""===this.options[0].value:"radio"===this.type?0===a(this.form.elements[this.name]).filter(":checked").length:"checkbox"===this.type?!this.checked:!this.value),this.getAttribute("pattern")&&(this.value.length>0?(e=new RegExp("^(?:"+this.getAttribute("pattern")+")$"),d=!e.test(this.value)):d=!1),this.validity=i(h,g,this.validity.customError||!1,b,d),this.validity.valid?this.validationMessage="":this.validity.customError?"string"==typeof b&&(this.validationMessage=b):this.validationMessage=this.validity.valueMissing?"Please answer this question":this.validity.typeMismatch?"Please type an email address":this.validity.patternMismatch?"Please use the format shown":"Please answer the question correctly",this.disabled||this.validity.valid},k=function(b){var c=b.target;j.call(c),"radio"===c.type&&a(c.form.elements[this.name]).each(function(){this.validity=c.validity,this.validationMessage=c.validationMessage})},l=function(c){var e=a(this),i=!!e.attr("novalidate"),k=!1;return g&&e.find(d).each(function(){k=!j.call(this),i||k&&a(this).triggerHandler("invalid")}),f&&b(this),!i&&e.find(d).filter(h).length>0?(c.stopImmediatePropagation(),c.preventDefault(),!1):void 0},m=function(){var c=a(d);g&&(c.filter(function(){return"object"!=typeof this.validity}).each(function(){this.validity=i(!1,!1,!1,"",!1),this.validationMessage=""}),c.unbind("change.constraintValidationAPI").bind("change.constraintValidationAPI",k)),"string"!=typeof e.validationMessage&&c.filter(function(){return"string"!=typeof this.validationMessage}).each(function(){this.validationMessage=""}),"function"!=typeof e.checkValidity&&c.filter(function(){return"function"!=typeof this.checkValidity}).each(function(){var b=this;this.checkValidity=function(){var c=j.call(b);return c||this.form.hasAttribute("novalidate")||a(b).triggerHandler("invalid"),c}}),"function"!=typeof e.setCustomValidity&&c.filter(function(){return"function"!=typeof this.setCustomValidity}).each(function(){var a=this;this.setCustomValidity=function(b){j.call(a,b)}}),f&&(b=function(b){var c,d,e={};a("input",b).filter(":radio").filter('[required],[aria-required="true"]').each(function(){"undefined"==typeof e[this.name]&&(e[this.name]=!0,c=a(this.form.elements[this.name]),d=0===c.filter(":checked").length,d?c.attr("required","required"):c.attr("aria-required",!0).removeAttr("required"))})},a("form").each(b),g||c.filter(":radio").unbind("change.constraintValidationAPI").bind("change.constraintValidationAPI",function(){b(this.form)})),a("form").unbind("submit.constraintValidationAPI").bind("submit.constraintValidationAPI",l)};m(),a(m),window.initConstraintValidationAPI=m}(jQuery);