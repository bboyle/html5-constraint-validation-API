/*! HTML5 constraintValidationAPI - v1.0.2 - 2014-03-29
* https://github.com/bboyle/html5-constraint-validation-API
* Copyright (c) 2014 Ben Boyle; Licensed MIT */
"undefined"!==jQuery&&!function(a){"use strict";var b=/^[A-Za-z0-9!#$%&'*+\-\/=\?\^_`\{\|\}~\.]+@[A-Za-z0-9\-]+(\.[A-Za-z0-9\-]+)*$/,c="input, select, textarea",d=a("<input>"),e="object"!=typeof d[0].validity,f=function(a,b,c,d,e){return"string"==typeof d&&(c=!!d),{customError:c,typeMismatch:!!a,patternMismatch:!!e,valueMissing:!!b,valid:!(b||c||a||e)}},g=function(c){var d,e,g=a(this),h=!!g.attr("required"),i="email"===this.getAttribute("type")&&!!this.value&&!b.test(this.value);return h&&(h=/^select$/i.test(this.nodeName)?0===this.selectedIndex&&""===this.options[0].value:"radio"===this.type?0===a(this.form.elements[this.name]).filter(":checked").length:"checkbox"===this.type?!this.checked:!this.value),this.getAttribute("pattern")&&(this.value.length>0?(e=new RegExp("^(?:"+this.getAttribute("pattern")+")$"),d=!e.test(this.value)):d=!1),this.validity=f(i,h,this.validity.customError||!1,c,d),this.validity.valid?this.validationMessage="":this.validity.customError?"string"==typeof c&&(this.validationMessage=c):this.validationMessage=this.validity.valueMissing?"Please answer this question":this.validity.typeMismatch?"Please type an email address":this.validity.patternMismatch?"Please use the format shown":"Please answer the question correctly",this.disabled||this.validity.valid},h=function(b){var c=b.target;g.call(c),"radio"===c.type&&a(c.form.elements[this.name]).each(function(){this.validity=c.validity,this.validationMessage=c.validationMessage})},i=function(b){var d=a(this),f=!!d.attr("novalidate"),h=!1;return e&&d.find(c).each(function(){h=!g.call(this),f||h&&a(this).triggerHandler("invalid")}),!f&&d.find(c).filter(function(){return!(this.disabled||this.validity.valid)}).length>0?(b.stopImmediatePropagation(),b.preventDefault(),!1):void 0},j=function(){var b=a(c);e&&(b.filter(function(){return"object"!=typeof this.validity}).each(function(){this.validity=f(!1,!1,!1,"",!1),this.validationMessage=""}),b.unbind("change.constraintValidationAPI").bind("change.constraintValidationAPI",h)),"string"!=typeof d[0].validationMessage&&b.filter(function(){return"string"!=typeof this.validationMessage}).each(function(){this.validationMessage=""}),"function"!=typeof d[0].checkValidity&&b.filter(function(){return"function"!=typeof this.checkValidity}).each(function(){var b=this;this.checkValidity=function(){var c=g.call(b);return c||this.form.hasAttribute("novalidate")||a(b).triggerHandler("invalid"),c}}),"function"!=typeof d[0].setCustomValidity&&b.filter(function(){return"function"!=typeof this.setCustomValidity}).each(function(){var a=this;this.setCustomValidity=function(b){g.call(a,b)}}),a("form").unbind("submit.constraintValidationAPI").bind("submit.constraintValidationAPI",i)};j(),a(j),window.initConstraintValidationAPI=j}(jQuery);