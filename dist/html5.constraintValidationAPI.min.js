/*! HTML5 constraintValidationAPI - v1.0.4 - 2015-02-02
* https://github.com/bboyle/html5-constraint-validation-API
* Copyright (c) 2015 Ben Boyle; Licensed MIT */
"undefined"!==jQuery&&!function(a){"use strict";var b=/^[A-Za-z0-9!#$%&'*+\-\/=\?\^_`\{\|\}~\.]+@[A-Za-z0-9\-]+(\.[A-Za-z0-9\-]+)*$/,c="input, select, textarea",d=a("<input>").get(0),e="object"!=typeof d.validity,f=function(){return!(this.disabled||this.validity.valid)},g=function(a,b,c,d,e){return"string"==typeof d&&(c=!!d),{customError:c,typeMismatch:!!a,patternMismatch:!!e,valueMissing:!!b,valid:!(b||c||a||e)}},h=function(c){var d,e,f=a(this),h=!!f.attr("required"),i="email"===this.getAttribute("type")&&!!this.value&&!b.test(this.value);return h&&(h=/^select$/i.test(this.nodeName)?0===this.selectedIndex&&""===this.options[0].value:"radio"===this.type?0===a(this.form.elements[this.name]).filter(":checked").length:"checkbox"===this.type?!this.checked:!this.value),this.getAttribute("pattern")&&(this.value.length>0?(e=new RegExp("^(?:"+this.getAttribute("pattern")+")$"),d=!e.test(this.value)):d=!1),this.validity=g(i,h,this.validity.customError||!1,c,d),this.validity.valid?this.validationMessage="":this.validity.customError?"string"==typeof c&&(this.validationMessage=c):this.validationMessage=this.validity.valueMissing?"Please answer this question":this.validity.typeMismatch?"Please type an email address":this.validity.patternMismatch?"Please use the format shown":"Please answer the question correctly",this.disabled||this.validity.valid},i=function(b){var c=b.target;h.call(c),"radio"===c.type&&a(c.form.elements[this.name]).each(function(){this.validity=c.validity,this.validationMessage=c.validationMessage})},j=function(b){var d=a(this),g=!!d.attr("novalidate"),i=!1;return e&&d.find(c).each(function(){i=!h.call(this),g||i&&a(this).triggerHandler("invalid")}),i=d.find(c).filter(f),i.length===i.filter(":radio").length&&i.length===i.filter(function(){return this.validity.valueMissing&&a(this.form.elements[this.name]).filter(":checked").length>0}).length&&i.removeAttr("required"),!g&&d.find(c).filter(f).length>0?(b.stopImmediatePropagation(),b.preventDefault(),!1):void 0},k=function(){var b=a(c);e&&(b.filter(function(){return"object"!=typeof this.validity}).each(function(){this.validity=g(!1,!1,!1,"",!1),this.validationMessage=""}),b.unbind("change.constraintValidationAPI").bind("change.constraintValidationAPI",i)),"string"!=typeof d.validationMessage&&b.filter(function(){return"string"!=typeof this.validationMessage}).each(function(){this.validationMessage=""}),"function"!=typeof d.checkValidity&&b.filter(function(){return"function"!=typeof this.checkValidity}).each(function(){var b=this;this.checkValidity=function(){var c=h.call(b);return c||this.form.hasAttribute("novalidate")||a(b).triggerHandler("invalid"),c}}),"function"!=typeof d.setCustomValidity&&b.filter(function(){return"function"!=typeof this.setCustomValidity}).each(function(){var a=this;this.setCustomValidity=function(b){h.call(a,b)}}),a("form").unbind("submit.constraintValidationAPI").bind("submit.constraintValidationAPI",j)};k(),a(k),window.initConstraintValidationAPI=k}(jQuery);